import{_ as x,r as i,o as l,d as u,f as o,c as w,w as t,b as a,t as r,e as B,u as k,g as q,h as j,m as A,i as E,D as F,j as b,a as e,n as I,k as P,F as U,l as W,v as Y}from"./index.3b45c4e2.js";const z={name:"RankingBlock",props:["rating"]},G={key:0},J={class:"ma-2"},O={class:"pr-2 pt-2 pb=2 ranking"},K={key:0},Q={key:1};function X(n,c,_,p,s,m){const v=i("v-icon");return _.rating!==null?(l(),u("div",G,[o("div",null,[o("span",J,[_.rating>=6?(l(),w(v,{key:0,color:"blue"},{default:t(()=>[a("mdi-thumb-up")]),_:1})):(l(),w(v,{key:1,color:"brown"},{default:t(()=>[a("mdi-emoticon-poop")]),_:1}))]),o("span",O,[o("strong",null,r(_.rating),1),a("/10 ")])]),o("div",null,[_.rating>=6?(l(),u("strong",K,"It's good!")):(l(),u("strong",Q,"It sucked!"))])])):B("",!0)}const Z=x(z,[["render",X],["__scopeId","data-v-93d9c46c"]]);const R=new F(b.name,b.version,b.stores),$=k(),ee={name:"PageView",components:{RatingBlock:q,RankingBlock:Z},data(){return{title:"",tagLine:"",image:"",rating:"",description:"",year:"",genre:[],length:"",featured:!1,reviewRating:0,reviewComments:"",trailer:"",services:[],hideComments:!0}},methods:{async loadData(){await R.openDb();try{const n=await R.getMovie(this.$route.params.id);console.log("Movie",n,this.$route.params.id),this.title=n.title,this.tagLine=n.tagLine,this.image=n.image,this.rating=n.rating,this.description=n.description,this.year=n.year,this.genre=n.genre,this.length=n.length,this.featured=n.featured,this.trailer=n.trailer,this.services=n.services,this.reviewRating=n.reviewRating,this.reviewComments=n.reviewComments;return}catch{console.error(`${this.$route.params.id} Movie not found`)}this.$router.push("/NotFound")}},computed:{breakpoint(){return j()},...A(k),...E(k,["databaseLoaded"])},unmounted(){this.databaseLoaded=!1},async beforeRouteEnter(n,c,_){_(async p=>{p.loadData(),$.$subscribe((s,m)=>{m.databaseLoaded&&p.loadData()})})},mounted(){(function(){var n=document,c=n.createElement("script");c.src="https://fluidthoughts.disqus.com/embed.js",c.setAttribute("data-timestamp",+new Date),(n.head||n.body).appendChild(c)})()}},te=["height","src"],ne={key:0},se=["innerHTML"],oe=o("strong",null,"Year:",-1),ie=o("strong",null,"Genre:",-1),ae=o("strong",null,"Length:",-1),le=o("h3",null,"Review",-1),re=["innerHTML"],ce={key:1},_e={class:"mr-2"},de=o("div",{id:"disqus_thread"},null,-1),ue=o("noscript",null,`Please enable JavaScript to view the
                                        <a href="https://disqus.com/?ref_noscript">comments powered by
                                            Disqus.</a>`,-1),me=[de,ue];function he(n,c,_,p,s,m){const v=i("v-img"),d=i("v-col"),h=i("v-row"),D=i("RatingBlock"),g=i("v-list-item-title"),f=i("v-list-item"),C=i("v-list"),M=i("RankingBlock"),S=i("v-list-subheader"),T=i("v-icon"),L=i("v-btn"),V=i("v-divider"),H=i("v-card");return l(),w(H,{class:"ma-4 pa-2"},{default:t(()=>[e(h,null,{default:t(()=>[e(d,{cols:"12",sm:"12",md:"6"},{default:t(()=>[e(v,{src:s.image},null,8,["src"])]),_:1}),e(d,{cols:"12",sm:"12",md:"6"},{default:t(()=>[e(h,null,{default:t(()=>[e(d,null,{default:t(()=>[o("iframe",{width:"100%",height:m.breakpoint.mdAndUp?"400px":"250px",style:I({maxHeight:m.breakpoint.mdAndUp?"450px":"250px"}),src:s.trailer,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},`
                        `,12,te)]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(d,null,{default:t(()=>[o("h2",null,r(s.title),1),s.tagLine?(l(),u("h4",ne,r(s.tagLine),1)):B("",!0),o("h4",null,[a(" Rated: "),e(D,null,{default:t(()=>[a(r(s.rating),1)]),_:1})]),o("div",{class:"mt-4",innerHTML:s.description},null,8,se),e(C,{density:"compact"},{default:t(()=>[e(f,null,{default:t(()=>[e(g,null,{default:t(()=>[oe,a(" "+r(s.year),1)]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(g,null,{default:t(()=>[ie,a(" "+r(s.genre.join(", ")),1)]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(g,null,{default:t(()=>[ae,a(" "+r(s.length),1)]),_:1})]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(d,{cols:"4",md:"2"},{default:t(()=>[e(M,{rating:s.reviewRating},null,8,["rating"])]),_:1}),e(d,{class:"pt-4"},{default:t(()=>[le,s.reviewComments?(l(),u("div",{key:0,innerHTML:s.reviewComments},null,8,re)):(l(),u("div",ce,"Opps sorry! There is no review."))]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(S,null,{default:t(()=>[a("Services")]),_:1}),(l(!0),u(U,null,P(s.services,(y,N)=>(l(),w(f,{key:N},{default:t(()=>[e(g,null,{default:t(()=>[o("strong",_e,r(y.service),1),e(L,{href:y.serviceLink,color:"blue",variant:"outlined",rounded:"pill"},{default:t(()=>[e(T,{icon:"mdi-play-circle"}),a(" Watch Now ")]),_:2},1032,["href"])]),_:2},1024),e(V,{class:"mt-2"})]),_:2},1024))),128))]),_:1}),e(h,null,{default:t(()=>[e(d,{class:"pa-6"},{default:t(()=>[e(L,{variant:"text",onClick:c[0]||(c[0]=y=>s.hideComments=!s.hideComments)},{default:t(()=>[a(r(s.hideComments?"Show":"Hide")+" Comments ",1)]),_:1}),W(o("div",null,me,512),[[Y,!s.hideComments]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ve=x(ee,[["render",he]]);export{ve as default};
