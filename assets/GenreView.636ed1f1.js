import{_ as $,u as x,g as S,m as G,r as n,o,d as u,c,w as t,e as w,a as s,F as k,D as N,j as m,b as a,k as j,f as r,t as i}from"./index.21d70632.js";const g=new N(m.name,m.version,m.stores),C=x(),L={name:"GenreView",components:{RatingBlock:S},data(){return{genre:[]}},watch:{async"$route.params.id"(l){l&&(this.genre=await g.getGenre(l))}},computed:{...G(x)},methods:{async loadData(){console.log("Store",this.mainStore.databaseLoaded),await g.openDb(),this.genre=await g.getGenre(this.$route.params.id)}},async beforeRouteEnter(l,v,p){p(async d=>{d.loadData(),C.$subscribe((_,f)=>{f.databaseLoaded&&d.loadData()})})}},z=r("br",null,null,-1),E={key:0,style:{display:"inline-block"}},F=r("br",null,null,-1);function T(l,v,p,d,_,f){const h=n("v-col"),b=n("v-row"),B=n("v-img"),y=n("v-icon"),D=n("RatingBlock"),R=n("v-card-text"),V=n("v-card");return o(),u(k,null,[_.genre.length<=0?(o(),c(b,{key:0,align:"center",justify:"center",style:{height:"95vh"}},{default:t(()=>[s(h,{cols:"12",class:"fill-height d-flex flex-column justify-center align-center"},{default:t(()=>[a(" There are no movies in this genre. ")]),_:1})]),_:1})):w("",!0),s(b,{class:"ma-4"},{default:t(()=>[(o(!0),u(k,null,j(_.genre,e=>(o(),c(h,{cols:"12",sm:"4",md:"3",class:"fill-height",key:e.title},{default:t(()=>[s(V,{to:`/movie/${e.id}`,flat:"",class:"text-center"},{default:t(()=>[s(B,{src:e.image,"max-height":"328px",eager:""},null,8,["src"]),s(R,null,{default:t(()=>[r("strong",null,i(e.title),1),a(),z,e.reviewRating?(o(),u("div",E,[e.reviewRating>=6?(o(),c(y,{key:0,color:"blue",size:"small"},{default:t(()=>[a("mdi-thumb-up")]),_:1})):(o(),c(y,{key:1,color:"brown",size:"small"},{default:t(()=>[a("mdi-emoticon-poop")]),_:1})),a(" \xA0 "),r("span",null,[r("strong",null,i(e.reviewRating),1),a(" / 10")]),F])):w("",!0),a("\xA0 "),s(D,null,{default:t(()=>[a(i(e.rating),1)]),_:2},1024),a(" - "+i(e.year),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})],64)}const q=$(L,[["render",T]]);export{q as default};
