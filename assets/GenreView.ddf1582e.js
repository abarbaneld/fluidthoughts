import{_ as $,u as x,m as S,r as a,o,d as m,c,w as t,e as w,a as s,F as k,D as G,i as g,b as n,g as N,f as r,t as i}from"./index.3f7dfc2f.js";import{R as C}from"./RatingBlock.c09aad46.js";const d=new G(g.name,g.version,g.stores),L=x(),j={name:"GenreView",components:{RatingBlock:C},data(){return{genre:[]}},watch:{async"$route.params.id"(l){l&&(this.genre=await d.getGenre(l))}},computed:{...S(x)},methods:{async loadData(){console.log("Store",this.mainStore.databaseLoaded),await d.openDb(),this.genre=await d.getGenre(this.$route.params.id)}},async beforeRouteEnter(l,v,p){p(async u=>{u.loadData(),L.$subscribe((_,f)=>{f.databaseLoaded&&u.loadData()})})},unmounted(){d.closeDb()}},z=r("br",null,null,-1),E={key:0,style:{display:"inline-block"}},F=r("br",null,null,-1);function T(l,v,p,u,_,f){const h=a("v-col"),b=a("v-row"),D=a("v-img"),y=a("v-icon"),R=a("RatingBlock"),B=a("v-card-text"),V=a("v-card");return o(),m(k,null,[_.genre.length<=0?(o(),c(b,{key:0,align:"center",justify:"center",style:{height:"95vh"}},{default:t(()=>[s(h,{cols:"12",class:"fill-height d-flex flex-column justify-center align-center"},{default:t(()=>[n(" There are no movies in this genre. ")]),_:1})]),_:1})):w("",!0),s(b,{class:"ma-4"},{default:t(()=>[(o(!0),m(k,null,N(_.genre,e=>(o(),c(h,{cols:"12",sm:"4",md:"3",class:"fill-height",key:e.title},{default:t(()=>[s(V,{to:`/movie/${e.id}`,flat:"",class:"text-center"},{default:t(()=>[s(D,{src:e.image,"max-height":"328px"},null,8,["src"]),s(B,null,{default:t(()=>[r("strong",null,i(e.title),1),n(),z,e.reviewRating?(o(),m("div",E,[e.reviewRating>=6?(o(),c(y,{key:0,color:"blue",size:"small"},{default:t(()=>[n("mdi-thumb-up")]),_:1})):(o(),c(y,{key:1,color:"brown",size:"small"},{default:t(()=>[n("mdi-emoticon-poop")]),_:1})),n(" \xA0 "),r("span",null,[r("strong",null,i(e.reviewRating),1),n(" / 10")]),F])):w("",!0),n("\xA0 "),s(R,null,{default:t(()=>[n(i(e.rating),1)]),_:2},1024),n(" - "+i(e.year),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})],64)}const A=$(j,[["render",T]]);export{A as default};
